<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">
  <title>Clodds</title>
  <link rel="icon" href="https://cloddsbot.com/logo.png" type="image/png">
  <link rel="stylesheet" href="css/app.css?v=4">
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Chat history">
      <div class="sidebar-header">
        <button class="sidebar-icon-btn" id="sidebar-toggle" title="Toggle sidebar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 3v18"/>
          </svg>
        </button>
        <img class="sidebar-logo" src="https://cloddsbot.com/logo.png" alt="Clodds" />
        <button class="sidebar-icon-btn" id="new-chat-btn" title="New chat">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4L16.5 3.5z"/>
          </svg>
        </button>
      </div>
      <div class="sidebar-search">
        <input class="sidebar-search-input" type="text" placeholder="Search chats..." aria-label="Search conversations" />
      </div>
      <div class="session-list" role="list" aria-label="Conversations"></div>
    </aside>

    <div class="sidebar-backdrop"></div>

    <!-- Main -->
    <main class="main welcome-mode" aria-label="Chat">
      <div class="chat-header">
        <button class="sidebar-toggle-mobile" id="sidebar-toggle-mobile" title="Toggle sidebar">&#9776;</button>
        <div class="chat-header-title" id="header-title">Clodds</div>
      </div>
      <div class="reconnect-banner" id="reconnect-banner">
        <span class="reconnect-spinner"></span> Connection lost. Reconnecting...
      </div>

      <div id="messages" role="log" aria-label="Messages" aria-live="polite">
        <div class="welcome" id="welcome">
          <img class="welcome-logo" src="https://cloddsbot.com/logo.png" alt="Clodds" />
          <h1 class="welcome-greeting" id="welcome-greeting">Good afternoon</h1>
        </div>
      </div>

      <button class="scroll-bottom" id="scroll-bottom" title="Scroll to bottom">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>

      <div class="typing" id="typing">
        <div class="msg-avatar bot-avatar">
          <img class="avatar-img" src="https://cloddsbot.com/logo.png" alt="C" onerror="this.remove();this.parentElement.textContent='C'" />
        </div>
        <div class="typing-dots"><span></span><span></span><span></span></div>
      </div>

      <div class="input-area">
        <div class="cmd-palette" id="cmd-palette"></div>
        <div class="file-preview" id="file-preview" style="display:none">
          <span class="file-preview-icon"></span>
          <span class="file-preview-name"></span>
          <button class="file-preview-remove" title="Remove">&times;</button>
        </div>
        <div class="input-wrap">
          <button class="attach-btn" id="attach-btn" title="Attach file">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"/>
            </svg>
          </button>
          <input type="file" id="file-input" hidden accept="image/*,.pdf,.txt,.csv,.json" />
          <textarea id="input" placeholder="How can I help you today?" autocomplete="off" rows="1" aria-label="Message input"></textarea>
          <button id="send-btn" title="Send">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
        <div class="welcome-cards" id="welcome-chips">
          <button class="welcome-card" data-msg="What markets are trending right now? Show me the top movers.">
            <svg class="welcome-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/></svg>
            <div class="welcome-card-text"><span class="welcome-card-title">Markets</span><span class="welcome-card-sub">Trending movers and prices</span></div>
          </button>
          <button class="welcome-card" data-msg="/positions">
            <svg class="welcome-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
            <div class="welcome-card-text"><span class="welcome-card-title">Positions</span><span class="welcome-card-sub">Open trades and P&L</span></div>
          </button>
          <button class="welcome-card" data-msg="Find me high-conviction arbitrage opportunities right now">
            <svg class="welcome-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m8 12 3 3 5-5"/></svg>
            <div class="welcome-card-text"><span class="welcome-card-title">Arbitrage</span><span class="welcome-card-sub">Cross-platform opportunities</span></div>
          </button>
          <button class="welcome-card" data-msg="/help">
            <svg class="welcome-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 6V2H8"/><path d="m8 18-4 4V8a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2Z"/></svg>
            <div class="welcome-card-text"><span class="welcome-card-title">Get started</span><span class="welcome-card-sub">Commands and setup guide</span></div>
          </button>
        </div>
        <div class="input-hint">
          <span><kbd>Enter</kbd> send &middot; <kbd>Shift+Enter</kbd> new line &middot; <kbd>/</kbd> commands</span>
        </div>
      </div>
    </main>
  </div>

  <script type="module" src="js/app.js?v=4"></script>
</body>
</html>
